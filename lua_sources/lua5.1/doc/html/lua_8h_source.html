<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>lua: lua.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>lua.h</h1>  </div>
</div>
<div class="contents">
<a href="lua_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">** $Id: lua.h,v 1.218.1.5 2008/08/06 13:30:12 roberto Exp $</span>
<a name="l00003"></a>00003 <span class="comment">** Lua - An Extensible Extension Language</span>
<a name="l00004"></a>00004 <span class="comment">** Lua.org, PUC-Rio, Brazil (http://www.lua.org)</span>
<a name="l00005"></a>00005 <span class="comment">** See Copyright Notice at the end of this file</span>
<a name="l00006"></a>00006 <span class="comment">*/</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="comment">//lua_rawequal</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef lua_h</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define lua_h</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="luaconf_8h.html">luaconf.h</a>&quot;</span>
<a name="l00018"></a>00018 
<a name="l00026"></a><a class="code" href="lua_8h.html#a3818e6f6538c9f42e9522c74334df03d">00026</a> <span class="preprocessor">#define LUA_VERSION     &quot;Lua 5.1&quot;</span>
<a name="l00027"></a><a class="code" href="lua_8h.html#abeb7a5ea7080e8ef597181124801f759">00027</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_RELEASE     &quot;Lua 5.1.4&quot;</span>
<a name="l00028"></a><a class="code" href="lua_8h.html#a4c575ef5fb9bad1872613a9d832486a5">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_VERSION_NUM 501</span>
<a name="l00029"></a><a class="code" href="lua_8h.html#a5126fa04dbeee0b9118c769beadcd62d">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_COPYRIGHT   &quot;Copyright (C) 1994-2008 Lua.org, PUC-Rio&quot;</span>
<a name="l00030"></a><a class="code" href="lua_8h.html#ab6ff0964a416a9a7c1e90337c965f102">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_AUTHORS     &quot;R. Ierusalimschy, L. H. de Figueiredo &amp; W. Celes&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="comment">/* mark for precompiled code (`&lt;esc&gt;Lua&#39;) */</span>
<a name="l00034"></a><a class="code" href="lua_8h.html#af21c9fa681dc005c17a7b288882cae1b">00034</a> <span class="preprocessor">#define LUA_SIGNATURE   &quot;\033Lua&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00036"></a>00036 <span class="comment">/* option for multiple returns in `lua_pcall&#39; and `lua_call&#39; */</span>
<a name="l00037"></a><a class="code" href="lua_8h.html#ace3545adc11664c2f2b152fbe8b6283c">00037</a> <span class="preprocessor">#define LUA_MULTRET     (-1)</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/*</span>
<a name="l00041"></a>00041 <span class="comment">** pseudo-indices</span>
<a name="l00042"></a>00042 <span class="comment">*/</span>
<a name="l00043"></a><a class="code" href="lua_8h.html#a3524c2bbc8fcf847dc083246b62945dd">00043</a> <span class="preprocessor">#define LUA_REGISTRYINDEX       (-10000)</span>
<a name="l00044"></a><a class="code" href="lua_8h.html#a7f265c572db9a8ff4fe6069ae8b40995">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_ENVIRONINDEX        (-10001)</span>
<a name="l00045"></a><a class="code" href="lua_8h.html#adcd23d4ad1ec6e825daea03ee83c8c73">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GLOBALSINDEX        (-10002)</span>
<a name="l00046"></a><a class="code" href="lua_8h.html#ac3aa6665c25070f282c9827ec919fe6a">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define lua_upvalueindex(i)     (LUA_GLOBALSINDEX-(i))</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">/* thread status; 0 is OK */</span>
<a name="l00050"></a><a class="code" href="lua_8h.html#ab69f4bd0c0693d4c8fcfc0ebaeb2806b">00050</a> <span class="preprocessor">#define LUA_YIELD       1</span>
<a name="l00051"></a><a class="code" href="lua_8h.html#af4bd6d4de5f10de738f81d007982abed">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_ERRRUN      2</span>
<a name="l00052"></a><a class="code" href="lua_8h.html#a779d4c0fc1c9da41b7d983646267e11f">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_ERRSYNTAX   3</span>
<a name="l00053"></a><a class="code" href="lua_8h.html#ac28ced8d63f58b5164a298d7d254f658">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_ERRMEM      4</span>
<a name="l00054"></a><a class="code" href="lua_8h.html#a295ea44b6036e266b06e5de0f8ff24e0">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_ERRERR      5</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">00057</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> <a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a>;
<a name="l00058"></a>00058 
<a name="l00136"></a><a class="code" href="lua_8h.html#a5f5bedea265eccf43c6e404e020988ce">00136</a> <span class="keyword">typedef</span> int (*<a class="code" href="lua_8h.html#a5f5bedea265eccf43c6e404e020988ce">lua_CFunction</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="comment">/*</span>
<a name="l00139"></a>00139 <span class="comment">** functions that read/write blocks when loading/dumping Lua chunks</span>
<a name="l00140"></a>00140 <span class="comment">*/</span>
<a name="l00152"></a><a class="code" href="lua_8h.html#a49bb2f99132c1ae9f80ce809cce40455">00152</a> <span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * (*lua_Reader) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">void</span> *ud, <span class="keywordtype">size_t</span> *sz);
<a name="l00153"></a>00153 
<a name="l00170"></a><a class="code" href="lua_8h.html#a739e0fce611e90942d1f15c302187e05">00170</a> <span class="keyword">typedef</span> int (*<a class="code" href="lua_8h.html#a739e0fce611e90942d1f15c302187e05">lua_Writer</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <span class="keywordtype">void</span>* p, <span class="keywordtype">size_t</span> sz, <span class="keywordtype">void</span>* ud);
<a name="l00171"></a>00171 
<a name="l00232"></a><a class="code" href="lua_8h.html#a1c6fb648cd80375673a99321e15fcc36">00232</a> <span class="keyword">typedef</span> <span class="keywordtype">void</span> * (*lua_Alloc) (<span class="keywordtype">void</span> *ud, <span class="keywordtype">void</span> *ptr, <span class="keywordtype">size_t</span> osize, <span class="keywordtype">size_t</span> nsize);
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 
<a name="l00238"></a><a class="code" href="lua_8h.html#a39c27eef097c704eee3536906dea5380">00238</a> <span class="preprocessor">#define LUA_TNONE               (-1)</span>
<a name="l00239"></a>00239 <span class="preprocessor"></span>
<a name="l00240"></a><a class="code" href="lua_8h.html#ae38a6fb8c687b8bfab211b7675a695ef">00240</a> <span class="preprocessor">#define LUA_TNIL                0</span>
<a name="l00241"></a><a class="code" href="lua_8h.html#a611808ed12d4c2aee2a9e298a9d9a9bf">00241</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TBOOLEAN            1</span>
<a name="l00242"></a><a class="code" href="lua_8h.html#aa030c2d649070173902c8094d8e0e2cd">00242</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TLIGHTUSERDATA      2</span>
<a name="l00243"></a><a class="code" href="lua_8h.html#a7f62ecb240cb38da9c8a53b41fe21ed9">00243</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TNUMBER             3</span>
<a name="l00244"></a><a class="code" href="lua_8h.html#a57de20d87bb5131a3159f2bd52e3fab6">00244</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TSTRING             4</span>
<a name="l00245"></a><a class="code" href="lua_8h.html#a31620fd8da5b655b7879e16a116ec31a">00245</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TTABLE              5</span>
<a name="l00246"></a><a class="code" href="lua_8h.html#adaa7fa6e2561c1bc428ba8d265171494">00246</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TFUNCTION           6</span>
<a name="l00247"></a><a class="code" href="lua_8h.html#a84fd4c52cea4073671a4cd0eb7026dc7">00247</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TUSERDATA           7</span>
<a name="l00248"></a><a class="code" href="lua_8h.html#a028a8d8aae9580c465aabcd0c11334d9">00248</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_TTHREAD             8</span>
<a name="l00249"></a>00249 <span class="preprocessor"></span>
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="comment">/* minimum Lua stack available to a C function */</span>
<a name="l00253"></a><a class="code" href="lua_8h.html#ad0180b89de8a4425cb2a1a3e3f793aa5">00253</a> <span class="preprocessor">#define LUA_MINSTACK    20</span>
<a name="l00254"></a>00254 <span class="preprocessor"></span>
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 <span class="comment">/*</span>
<a name="l00257"></a>00257 <span class="comment">** generic extra include file</span>
<a name="l00258"></a>00258 <span class="comment">*/</span>
<a name="l00259"></a>00259 <span class="preprocessor">#if defined(LUA_USER_H)</span>
<a name="l00260"></a>00260 <span class="preprocessor"></span><span class="preprocessor">#include LUA_USER_H</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00262"></a>00262 <span class="preprocessor"></span>
<a name="l00276"></a>00276 <span class="comment">/* type of numbers in Lua */</span>
<a name="l00277"></a><a class="code" href="lua_8h.html#af0a6ed3b852d680769cfc410a0672172">00277</a> <span class="keyword">typedef</span> <a class="code" href="luaconf_8h.html#a459532244178d9e61e65aaf40fb42de1">LUA_NUMBER</a> <a class="code" href="lua_8h.html#af0a6ed3b852d680769cfc410a0672172">lua_Number</a>;
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 <span class="comment">/* type for integer functions */</span>
<a name="l00293"></a><a class="code" href="lua_8h.html#a362144baa0cfb14dc38fd21438053d73">00293</a> <span class="keyword">typedef</span> <a class="code" href="luaconf_8h.html#a6f5fe82d222b54d1913327404c8d18c5">LUA_INTEGER</a> <a class="code" href="lua_8h.html#a362144baa0cfb14dc38fd21438053d73">lua_Integer</a>;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 <span class="comment">/*</span>
<a name="l00298"></a>00298 <span class="comment">** state manipulation</span>
<a name="l00299"></a>00299 <span class="comment">*/</span>
<a name="l00300"></a>00300 
<a name="l00318"></a>00318 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *(<a class="code" href="lua_8h.html#af722e4ac7fc0eba5920f59f0162c1b97">lua_newstate</a>) (<a class="code" href="lua_8h.html#a1c6fb648cd80375673a99321e15fcc36">lua_Alloc</a> f, <span class="keywordtype">void</span> *ud);
<a name="l00319"></a>00319 
<a name="l00331"></a>00331 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void       (<a class="code" href="lua_8h.html#afe030a97e84f24dfab3afb598faa2fff">lua_close</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l00332"></a>00332 
<a name="l00348"></a>00348 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *(<a class="code" href="lua_8h.html#a6a7867e39b589ae581e2ed837cbc6ea4">lua_newthread</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l00349"></a>00349 
<a name="l00369"></a>00369 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#a5f5bedea265eccf43c6e404e020988ce">lua_CFunction</a> (<a class="code" href="lua_8h.html#a21ccd6b330c56c62fc3d0f15dd59f7a7">lua_atpanic</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#a5f5bedea265eccf43c6e404e020988ce">lua_CFunction</a> panicf);
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 
<a name="l00372"></a>00372 <span class="comment">/*</span>
<a name="l00373"></a>00373 <span class="comment">** basic stack manipulation</span>
<a name="l00374"></a>00374 <span class="comment">*/</span>
<a name="l00375"></a>00375 
<a name="l00389"></a>00389 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#ac5d7d4db9186b87ab018916e8826f008">lua_gettop</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l00390"></a>00390 
<a name="l00406"></a>00406 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a6cb9c62b9d85b1ad2a04d72bcb733816">lua_settop</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00407"></a>00407 
<a name="l00419"></a>00419 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a95e1c0a61aff11059655e6d246bcace7">lua_pushvalue</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00420"></a>00420 
<a name="l00432"></a>00432 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#acb96e065629db2dedb0624524a9b34d4">lua_remove</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00433"></a>00433 
<a name="l00445"></a>00445 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a9185776cc77b691daca1eb94fd8e9807">lua_insert</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00446"></a>00446 
<a name="l00458"></a>00458 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a40a5a870b611d40f44e82ca3c9678b62">lua_replace</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00459"></a>00459 
<a name="l00471"></a>00471 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a587f91654912f901426c7118ecc5348c">lua_checkstack</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> sz);
<a name="l00472"></a>00472 
<a name="l00488"></a>00488 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a389cf4bf773f353508a28293143d403e">lua_xmove</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *from, <a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *to, <span class="keywordtype">int</span> n);
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 <span class="comment">/*</span>
<a name="l00492"></a>00492 <span class="comment">** access functions (stack -&gt; C)</span>
<a name="l00493"></a>00493 <span class="comment">*/</span>
<a name="l00494"></a>00494 
<a name="l00506"></a>00506 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int             (<a class="code" href="lua_8h.html#a2b5321e5370d82564c138e9dd8ffc9a5">lua_isnumber</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00507"></a>00507 
<a name="l00519"></a>00519 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int             (<a class="code" href="lua_8h.html#a70f6031d538713cb3b6093adbc658909">lua_isstring</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00520"></a>00520 
<a name="l00532"></a>00532 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int             (<a class="code" href="lua_8h.html#a6b2ce32286576a8e36fe4629662cb536">lua_iscfunction</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00533"></a>00533 
<a name="l00534"></a>00534 <span class="comment">/*</span>
<a name="l00535"></a>00535 <span class="comment">lua_isuserdata</span>
<a name="l00536"></a>00536 <span class="comment"></span>
<a name="l00537"></a>00537 <span class="comment">[-0, +0, -] </span>
<a name="l00538"></a>00538 <span class="comment"></span>
<a name="l00539"></a>00539 <span class="comment">int lua_isuserdata (lua_State *L, int index);</span>
<a name="l00540"></a>00540 <span class="comment"></span>
<a name="l00541"></a>00541 <span class="comment">Returns 1 if the value at the given acceptable index is a userdata (either full or light), and 0 otherwise. </span>
<a name="l00542"></a>00542 <span class="comment"></span>
<a name="l00543"></a>00543 <span class="comment">如果所给可接受索引处的值是一个userdata（完全或者轻量级）则返回1，否则返回0。</span>
<a name="l00544"></a>00544 <span class="comment">*/</span>
<a name="l00545"></a>00545 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int             (<a class="code" href="lua_8h.html#af4cc013f4e4e84fc89bab292bd410981">lua_isuserdata</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00546"></a>00546 
<a name="l00558"></a>00558 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int             (<a class="code" href="lua_8h.html#aa988ba5b97ff838ccb92babd63063273">lua_type</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00559"></a>00559 
<a name="l00571"></a>00571 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span>     *(<a class="code" href="lua_8h.html#a963a421b920cd7ce229f82091eab18a9">lua_typename</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> tp);
<a name="l00572"></a>00572 
<a name="l00584"></a>00584 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int            (<a class="code" href="lua_8h.html#ae22897869083c78bde3055b6189b7d0c">lua_equal</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx1, <span class="keywordtype">int</span> idx2);
<a name="l00585"></a>00585 
<a name="l00601"></a>00601 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int            (<a class="code" href="lua_8h.html#a2cd7fef8e86adabbfec04ddb15aeebda">lua_rawequal</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx1, <span class="keywordtype">int</span> idx2);
<a name="l00602"></a>00602 
<a name="l00618"></a>00618 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int            (<a class="code" href="lua_8h.html#a9d0b4eabdb4ebe518e9de3779e50d884">lua_lessthan</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx1, <span class="keywordtype">int</span> idx2);
<a name="l00619"></a>00619 
<a name="l00635"></a>00635 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#af0a6ed3b852d680769cfc410a0672172">lua_Number</a>      (<a class="code" href="lua_8h.html#ab93cb1edc97ca887c90dbcbd43e1df88">lua_tonumber</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00636"></a>00636 
<a name="l00654"></a>00654 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#a362144baa0cfb14dc38fd21438053d73">lua_Integer</a>     (<a class="code" href="lua_8h.html#a90582a1c67153e7aaa7e45649fd21d50">lua_tointeger</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00655"></a>00655 
<a name="l00673"></a>00673 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int             (<a class="code" href="lua_8h.html#a0f530f104aeaddeeb63b27dc18b42d27">lua_toboolean</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00674"></a>00674 
<a name="l00700"></a>00700 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span>     *(<a class="code" href="lua_8h.html#aabf845b1c7ffc0462988b67ba83955cf">lua_tolstring</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx, <span class="keywordtype">size_t</span> *len);
<a name="l00701"></a>00701 
<a name="l00713"></a>00713 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> size_t          (<a class="code" href="lua_8h.html#a07bd1384def434a4a3efdcd48b771ca9">lua_objlen</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00714"></a>00714 
<a name="l00728"></a>00728 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#a5f5bedea265eccf43c6e404e020988ce">lua_CFunction</a>   (<a class="code" href="lua_8h.html#a8c9a532a84b03d90b0a103c007f871b8">lua_tocfunction</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00729"></a>00729 
<a name="l00743"></a>00743 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">void</span>           *(<a class="code" href="lua_8h.html#a3b3106346d9739a64d48be4e30368dec">lua_touserdata</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00744"></a>00744 
<a name="l00756"></a>00756 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a>      *(<a class="code" href="lua_8h.html#a8ad0bb2b578f5b6e84511431260a5818">lua_tothread</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00757"></a>00757 
<a name="l00779"></a>00779 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">void</span>     *(<a class="code" href="lua_8h.html#ae00a730cd408773f7a4122fccfbbb91a">lua_topointer</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00780"></a>00780 
<a name="l00781"></a>00781 
<a name="l00782"></a>00782 <span class="comment">/*</span>
<a name="l00783"></a>00783 <span class="comment">** push functions (C -&gt; stack)</span>
<a name="l00784"></a>00784 <span class="comment">*/</span>
<a name="l00785"></a>00785 
<a name="l00797"></a>00797 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a8bd9c4137a90833221f48dd16659c9e4">lua_pushnil</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l00798"></a>00798 
<a name="l00810"></a>00810 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a77807056ba032d64b2def2b57dc53d53">lua_pushnumber</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#af0a6ed3b852d680769cfc410a0672172">lua_Number</a> n);
<a name="l00811"></a>00811 
<a name="l00823"></a>00823 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#aea46fa9bf358947f5c0a1bf266b26154">lua_pushinteger</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#a362144baa0cfb14dc38fd21438053d73">lua_Integer</a> n);
<a name="l00824"></a>00824 
<a name="l00836"></a>00836 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a8c01dd1b5018c60a078bcf58dd1fe2e8">lua_pushlstring</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keywordtype">size_t</span> l);
<a name="l00837"></a>00837 
<a name="l00853"></a>00853 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#af2db74e1d8e7062bf5d1a2a779e53369">lua_pushstring</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <span class="keywordtype">char</span> *s);
<a name="l00854"></a>00854 
<a name="l00868"></a>00868 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *(<a class="code" href="lua_8h.html#a13fb1100c2e3942aa6c69baaf7e3f7cd">lua_pushvfstring</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt,
<a name="l00869"></a>00869                                                       va_list argp);
<a name="l00870"></a>00870 
<a name="l00890"></a>00890 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *(<a class="code" href="lua_8h.html#af4a7bd8fa65e507e36aff61af8db117d">lua_pushfstring</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt, ...);
<a name="l00891"></a>00891 
<a name="l00911"></a>00911 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a89f758ed8996c5f405cb7dfb41f78337">lua_pushcclosure</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#a5f5bedea265eccf43c6e404e020988ce">lua_CFunction</a> fn, <span class="keywordtype">int</span> n);
<a name="l00912"></a>00912 
<a name="l00924"></a>00924 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a9d7bacf1769dcf7cff7ba7271041e61c">lua_pushboolean</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> b);
<a name="l00925"></a>00925 
<a name="l00941"></a>00941 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a9d6c960026cbee9ffb95a9d1753675e2">lua_pushlightuserdata</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">void</span> *p);
<a name="l00942"></a>00942 
<a name="l00956"></a>00956 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a118bd9effa8d54ddcbe37bd5cb70a4b6">lua_pushthread</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l00957"></a>00957 
<a name="l00958"></a>00958 
<a name="l00959"></a>00959 <span class="comment">/*</span>
<a name="l00960"></a>00960 <span class="comment">** get functions (Lua -&gt; stack)</span>
<a name="l00961"></a>00961 <span class="comment">*/</span>
<a name="l00962"></a>00962 
<a name="l00978"></a>00978 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a8d82fa181a3003e9a304040c0bbed9ac">lua_gettable</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l00979"></a>00979 
<a name="l00991"></a>00991 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#ac3112bb28ba217adc46f13da8e9e6585">lua_getfield</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx, <span class="keyword">const</span> <span class="keywordtype">char</span> *k);
<a name="l00992"></a>00992 
<a name="l00993"></a>00993 <span class="comment">/*</span>
<a name="l00994"></a>00994 <span class="comment">lua_rawget</span>
<a name="l00995"></a>00995 <span class="comment"></span>
<a name="l00996"></a>00996 <span class="comment">[-1, +1, -] </span>
<a name="l00997"></a>00997 <span class="comment"></span>
<a name="l00998"></a>00998 <span class="comment">void lua_rawget (lua_State *L, int index);</span>
<a name="l00999"></a>00999 <span class="comment"></span>
<a name="l01000"></a>01000 <span class="comment">Similar to lua_gettable, but does a raw access (i.e., without metamethods). </span>
<a name="l01001"></a>01001 <span class="comment"></span>
<a name="l01002"></a>01002 <span class="comment">类似于lua_gettable，但执行原生访问(例如，没有元方法） </span>
<a name="l01003"></a>01003 <span class="comment">*/</span>
<a name="l01004"></a>01004 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#af5ed4eb4ccc6e6f7921fdaee8485cb3f">lua_rawget</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l01005"></a>01005 
<a name="l01019"></a>01019 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a83de0bf688c2a389db2e444aa34e752a">lua_rawgeti</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx, <span class="keywordtype">int</span> n);
<a name="l01020"></a>01020 
<a name="l01032"></a>01032 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a022ddaeee46ccb89860c78480e54db05">lua_createtable</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> narr, <span class="keywordtype">int</span> nrec);
<a name="l01033"></a>01033 
<a name="l01053"></a>01053 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">void</span> *(<a class="code" href="lua_8h.html#a0ed440a42dac5e7faaf51163b274c43c">lua_newuserdata</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">size_t</span> sz);
<a name="l01054"></a>01054 
<a name="l01066"></a>01066 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a15b983a1c2fd3c7ab7810c4aa0096567">lua_getmetatable</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> objindex);
<a name="l01067"></a>01067 
<a name="l01079"></a>01079 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a94bd8786ad09c9a233d397688d7b21b0">lua_getfenv</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l01080"></a>01080 
<a name="l01081"></a>01081 
<a name="l01082"></a>01082 <span class="comment">/*</span>
<a name="l01083"></a>01083 <span class="comment">** set functions (stack -&gt; Lua)</span>
<a name="l01084"></a>01084 <span class="comment">*/</span>
<a name="l01085"></a>01085 
<a name="l01101"></a>01101 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#aeda173d104e3a566ccaac89a1f64a5eb">lua_settable</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l01102"></a>01102 
<a name="l01118"></a>01118 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a9580a15c141cbe4bf2a63fea625c3878">lua_setfield</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx, <span class="keyword">const</span> <span class="keywordtype">char</span> *k);
<a name="l01119"></a>01119 
<a name="l01131"></a>01131 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a3db5cd3ce7ae703c39d54495be44aafc">lua_rawset</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l01132"></a>01132 
<a name="l01148"></a>01148 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a32f51f8a97b4f005f7a3c378dcf71df2">lua_rawseti</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx, <span class="keywordtype">int</span> n);
<a name="l01149"></a>01149 
<a name="l01161"></a>01161 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a0b834b6a9cd96b141385df14bd0272a4">lua_setmetatable</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> objindex);
<a name="l01162"></a>01162 
<a name="l01174"></a>01174 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a31404abda0b6d6f331b63bb651a82830">lua_setfenv</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l01175"></a>01175 
<a name="l01176"></a>01176 
<a name="l01177"></a>01177 <span class="comment">/*</span>
<a name="l01178"></a>01178 <span class="comment">** `load&#39; and `call&#39; functions (load and run Lua code)</span>
<a name="l01179"></a>01179 <span class="comment">*/</span>
<a name="l01180"></a>01180 
<a name="l01248"></a>01248 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a76a93304f9e313c5e8b9f2d95c1f05fe">lua_call</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> nargs, <span class="keywordtype">int</span> nresults);
<a name="l01249"></a>01249 
<a name="l01303"></a>01303 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a513752286ffd536ea5ce1988e4ebf884">lua_pcall</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> nargs, <span class="keywordtype">int</span> nresults, <span class="keywordtype">int</span> errfunc);
<a name="l01304"></a>01304 
<a name="l01324"></a>01324 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#aecf554be5e84a1577c9e19455bfad16c">lua_cpcall</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#a5f5bedea265eccf43c6e404e020988ce">lua_CFunction</a> func, <span class="keywordtype">void</span> *ud);
<a name="l01325"></a>01325 
<a name="l01376"></a>01376 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a5589c19a7f18954a49e945f50fcba94a">lua_load</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#a49bb2f99132c1ae9f80ce809cce40455">lua_Reader</a> reader, <span class="keywordtype">void</span> *dt,
<a name="l01377"></a>01377                                         <span class="keyword">const</span> <span class="keywordtype">char</span> *chunkname);
<a name="l01378"></a>01378 
<a name="l01398"></a>01398 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int (<a class="code" href="lua_8h.html#a29ceb6e6217ff14d061922a539c59eac">lua_dump</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#a739e0fce611e90942d1f15c302187e05">lua_Writer</a> writer, <span class="keywordtype">void</span> *data);
<a name="l01399"></a>01399 
<a name="l01400"></a>01400 
<a name="l01401"></a>01401 <span class="comment">/*</span>
<a name="l01402"></a>01402 <span class="comment">** coroutine functions</span>
<a name="l01403"></a>01403 <span class="comment">*/</span>
<a name="l01404"></a>01404 
<a name="l01430"></a>01430 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int  (<a class="code" href="lua_8h.html#a235fa5c4bb5251a499bcd492183fc8c8">lua_yield</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> nresults);
<a name="l01431"></a>01431 
<a name="l01447"></a>01447 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int  (<a class="code" href="lua_8h.html#a138eae7b52d8a657534ef289ee6946e2">lua_resume</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> narg);
<a name="l01448"></a>01448 
<a name="l01464"></a>01464 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int  (<a class="code" href="lua_8h.html#af5cd8db0ed930193f1bf67c583666f91">lua_status</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l01465"></a>01465 
<a name="l01466"></a>01466 <span class="comment">/*</span>
<a name="l01467"></a>01467 <span class="comment">** garbage-collection function and options</span>
<a name="l01468"></a>01468 <span class="comment">*/</span>
<a name="l01469"></a>01469 
<a name="l01470"></a><a class="code" href="lua_8h.html#a7080a7110a1b37afc6ea2f706e944bc3">01470</a> <span class="preprocessor">#define LUA_GCSTOP              0</span>
<a name="l01471"></a><a class="code" href="lua_8h.html#a73701e5990022e938e90828a2c8291a4">01471</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GCRESTART           1</span>
<a name="l01472"></a><a class="code" href="lua_8h.html#a59b8b65be08a10442ea2ae41289f5073">01472</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GCCOLLECT           2</span>
<a name="l01473"></a><a class="code" href="lua_8h.html#a3f8f1ebdffa4dbfe2dd89c2fd86bd7f4">01473</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GCCOUNT             3</span>
<a name="l01474"></a><a class="code" href="lua_8h.html#a99f1685cd6789e0b9bbd2a4c080fbaed">01474</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GCCOUNTB            4</span>
<a name="l01475"></a><a class="code" href="lua_8h.html#a9e7f3eaf2e269c3422aea3fd7c8973ef">01475</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GCSTEP              5</span>
<a name="l01476"></a><a class="code" href="lua_8h.html#a28342bd4f96a077c7447489073dfa376">01476</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GCSETPAUSE          6</span>
<a name="l01477"></a><a class="code" href="lua_8h.html#af07b3449c8e3ffdd62649443f32e1931">01477</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_GCSETSTEPMUL        7</span>
<a name="l01478"></a>01478 <span class="preprocessor"></span>
<a name="l01526"></a>01526 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int (<a class="code" href="lua_8h.html#a6bac487d3f900b21271e8c591bd801cd">lua_gc</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> what, <span class="keywordtype">int</span> data);
<a name="l01527"></a>01527 
<a name="l01528"></a>01528 
<a name="l01529"></a>01529 <span class="comment">/*</span>
<a name="l01530"></a>01530 <span class="comment">** miscellaneous functions</span>
<a name="l01531"></a>01531 <span class="comment">*/</span>
<a name="l01532"></a>01532 
<a name="l01544"></a>01544 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#aae6c05ddea7bd110a3e84595ef92e601">lua_error</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l01545"></a>01545 
<a name="l01605"></a>01605 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> int   (<a class="code" href="lua_8h.html#a2a62b957ab95d9b542bf7d02794181e6">lua_next</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> idx);
<a name="l01606"></a>01606 
<a name="l01622"></a>01622 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> void  (<a class="code" href="lua_8h.html#a4eba0457df5bafff4d44071d1d8080b6">lua_concat</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> n);
<a name="l01623"></a>01623 
<a name="l01635"></a>01635 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#a1c6fb648cd80375673a99321e15fcc36">lua_Alloc</a> (<a class="code" href="lua_8h.html#ab5b8729206c208fbb794c9c2840b0812">lua_getallocf</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">void</span> **ud);
<a name="l01636"></a>01636 
<a name="l01650"></a>01650 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">void</span> <a class="code" href="lua_8h.html#ac890276f9590df6a4d6aabdad9c558f0">lua_setallocf</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#a1c6fb648cd80375673a99321e15fcc36">lua_Alloc</a> f, <span class="keywordtype">void</span> *ud);
<a name="l01651"></a>01651 
<a name="l01652"></a>01652 
<a name="l01653"></a>01653 
<a name="l01654"></a>01654 <span class="comment">/* </span>
<a name="l01655"></a>01655 <span class="comment">** ===============================================================</span>
<a name="l01656"></a>01656 <span class="comment">** some useful macros</span>
<a name="l01657"></a>01657 <span class="comment">** ===============================================================</span>
<a name="l01658"></a>01658 <span class="comment">*/</span>
<a name="l01659"></a>01659 
<a name="l01671"></a><a class="code" href="lua_8h.html#abb8eae2164badeafdb037bc1e03cc822">01671</a> <span class="preprocessor">#define lua_pop(L,n)            lua_settop(L, -(n)-1)</span>
<a name="l01672"></a>01672 <span class="preprocessor"></span>
<a name="l01684"></a><a class="code" href="lua_8h.html#aa59db6b784aa1ec954599a44168c7761">01684</a> <span class="preprocessor">#define lua_newtable(L)         lua_createtable(L, 0, 0)</span>
<a name="l01685"></a>01685 <span class="preprocessor"></span>
<a name="l01707"></a><a class="code" href="lua_8h.html#ae1162e4a80396145544aa03312c60d8c">01707</a> <span class="preprocessor">#define lua_register(L,n,f) (lua_pushcfunction(L, (f)), lua_setglobal(L, (n)))</span>
<a name="l01708"></a>01708 <span class="preprocessor"></span>
<a name="l01732"></a><a class="code" href="lua_8h.html#a2e4fbbe97182bf90004379202202f2b9">01732</a> <span class="preprocessor">#define lua_pushcfunction(L,f)  lua_pushcclosure(L, (f), 0)</span>
<a name="l01733"></a>01733 <span class="preprocessor"></span>
<a name="l01734"></a><a class="code" href="lua_8h.html#af1950fb3c542d036245559b5f5ae9346">01734</a> <span class="preprocessor">#define lua_strlen(L,i)         lua_objlen(L, (i))</span>
<a name="l01735"></a>01735 <span class="preprocessor"></span>
<a name="l01747"></a><a class="code" href="lua_8h.html#a7537af276c81906c144f29cd25b93315">01747</a> <span class="preprocessor">#define lua_isfunction(L,n)     (lua_type(L, (n)) == LUA_TFUNCTION)</span>
<a name="l01748"></a>01748 <span class="preprocessor"></span>
<a name="l01760"></a><a class="code" href="lua_8h.html#a161af51893c5f79dacc1c382416a5f27">01760</a> <span class="preprocessor">#define lua_istable(L,n)        (lua_type(L, (n)) == LUA_TTABLE)</span>
<a name="l01761"></a>01761 <span class="preprocessor"></span>
<a name="l01773"></a><a class="code" href="lua_8h.html#a46c0d924f3492bbe10007a74e00b43aa">01773</a> <span class="preprocessor">#define lua_islightuserdata(L,n)        (lua_type(L, (n)) == LUA_TLIGHTUSERDATA)</span>
<a name="l01774"></a>01774 <span class="preprocessor"></span>
<a name="l01786"></a><a class="code" href="lua_8h.html#a86d737d7002e7e94023765397c6eef20">01786</a> <span class="preprocessor">#define lua_isnil(L,n)          (lua_type(L, (n)) == LUA_TNIL)</span>
<a name="l01787"></a>01787 <span class="preprocessor"></span>
<a name="l01799"></a><a class="code" href="lua_8h.html#af4f579ead7d5ea837d8d708186033502">01799</a> <span class="preprocessor">#define lua_isboolean(L,n)      (lua_type(L, (n)) == LUA_TBOOLEAN)</span>
<a name="l01800"></a>01800 <span class="preprocessor"></span>
<a name="l01812"></a><a class="code" href="lua_8h.html#a0c346eeb2eee1d2e9b9920fb9b9d7fc9">01812</a> <span class="preprocessor">#define lua_isthread(L,n)       (lua_type(L, (n)) == LUA_TTHREAD)</span>
<a name="l01813"></a>01813 <span class="preprocessor"></span>
<a name="l01825"></a><a class="code" href="lua_8h.html#ad054300429f1094d3692313abc733ddf">01825</a> <span class="preprocessor">#define lua_isnone(L,n)         (lua_type(L, (n)) == LUA_TNONE)</span>
<a name="l01826"></a>01826 <span class="preprocessor"></span>
<a name="l01838"></a><a class="code" href="lua_8h.html#af51702bb75a31bb4a279953ee386d533">01838</a> <span class="preprocessor">#define lua_isnoneornil(L, n)   (lua_type(L, (n)) &lt;= 0)</span>
<a name="l01839"></a>01839 <span class="preprocessor"></span>
<a name="l01851"></a><a class="code" href="lua_8h.html#a47854189a679002ed743ebbcb30b1b26">01851</a> <span class="preprocessor">#define lua_pushliteral(L, s)   \</span>
<a name="l01852"></a>01852 <span class="preprocessor">        lua_pushlstring(L, &quot;&quot; s, (sizeof(s)/sizeof(char))-1)</span>
<a name="l01853"></a>01853 <span class="preprocessor"></span>
<a name="l01869"></a><a class="code" href="lua_8h.html#ab9c7b1411a77d9dff74f2930fc51f796">01869</a> <span class="preprocessor">#define lua_setglobal(L,s)      lua_setfield(L, LUA_GLOBALSINDEX, (s))</span>
<a name="l01870"></a>01870 <span class="preprocessor"></span>
<a name="l01886"></a><a class="code" href="lua_8h.html#abc2f6fef4682c1d4cdc33206aaf42bec">01886</a> <span class="preprocessor">#define lua_getglobal(L,s)      lua_getfield(L, LUA_GLOBALSINDEX, (s))</span>
<a name="l01887"></a>01887 <span class="preprocessor"></span>
<a name="l01899"></a><a class="code" href="lua_8h.html#ac813fc3bc1886ba17c363d5b4c6e7ef1">01899</a> <span class="preprocessor">#define lua_tostring(L,i)       lua_tolstring(L, (i), NULL)</span>
<a name="l01900"></a>01900 <span class="preprocessor"></span>
<a name="l01901"></a>01901 
<a name="l01902"></a>01902 
<a name="l01903"></a>01903 <span class="comment">/*</span>
<a name="l01904"></a>01904 <span class="comment">** compatibility macros and functions</span>
<a name="l01905"></a>01905 <span class="comment">*/</span>
<a name="l01906"></a>01906 
<a name="l01907"></a><a class="code" href="lua_8h.html#a0d9ba6517cbe11049d830829dce90b4d">01907</a> <span class="preprocessor">#define lua_open()      luaL_newstate()</span>
<a name="l01908"></a>01908 <span class="preprocessor"></span>
<a name="l01909"></a><a class="code" href="lua_8h.html#a0a90c2d2632800a015eca27b7812e329">01909</a> <span class="preprocessor">#define lua_getregistry(L)      lua_pushvalue(L, LUA_REGISTRYINDEX)</span>
<a name="l01910"></a>01910 <span class="preprocessor"></span>
<a name="l01911"></a><a class="code" href="lua_8h.html#a1d036311a62bf9c9cc376de2f46433e2">01911</a> <span class="preprocessor">#define lua_getgccount(L)       lua_gc(L, LUA_GCCOUNT, 0)</span>
<a name="l01912"></a>01912 <span class="preprocessor"></span>
<a name="l01913"></a><a class="code" href="lua_8h.html#ab7f9d507684f7d5bb0a21e709b3569b8">01913</a> <span class="preprocessor">#define lua_Chunkreader         lua_Reader</span>
<a name="l01914"></a><a class="code" href="lua_8h.html#a2e8f683ec38d7c55ccc8c327d8bfd7c5">01914</a> <span class="preprocessor"></span><span class="preprocessor">#define lua_Chunkwriter         lua_Writer</span>
<a name="l01915"></a>01915 <span class="preprocessor"></span>
<a name="l01916"></a>01916 
<a name="l01917"></a>01917 <span class="comment">/* hack */</span>
<a name="l01918"></a>01918 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">void</span> <a class="code" href="lua_8h.html#a23ba67a2597f1bce7e408f44ff5bc4f4">lua_setlevel</a>       (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *from, <a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *to);
<a name="l01919"></a>01919 
<a name="l01920"></a>01920 
<a name="l01921"></a>01921 <span class="comment">/*</span>
<a name="l01922"></a>01922 <span class="comment">** {======================================================================</span>
<a name="l01923"></a>01923 <span class="comment">** Debug API</span>
<a name="l01924"></a>01924 <span class="comment">** =======================================================================</span>
<a name="l01925"></a>01925 <span class="comment">*/</span>
<a name="l01926"></a>01926 
<a name="l01927"></a>01927 
<a name="l01928"></a>01928 <span class="comment">/*</span>
<a name="l01929"></a>01929 <span class="comment">** Event codes</span>
<a name="l01930"></a>01930 <span class="comment">*/</span>
<a name="l01931"></a><a class="code" href="lua_8h.html#ab7cc83a523db06d92466167ebc3a65f2">01931</a> <span class="preprocessor">#define LUA_HOOKCALL    0</span>
<a name="l01932"></a><a class="code" href="lua_8h.html#a86f6d196d7c800de07bafe9603881485">01932</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_HOOKRET     1</span>
<a name="l01933"></a><a class="code" href="lua_8h.html#af2e15cf6167fde2aab753f2a8228de06">01933</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_HOOKLINE    2</span>
<a name="l01934"></a><a class="code" href="lua_8h.html#a6c7cb905c4d6a2d21e6261b6ccec7298">01934</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_HOOKCOUNT   3</span>
<a name="l01935"></a><a class="code" href="lua_8h.html#a24f781b21e8aeebc3015db84e63f0bab">01935</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_HOOKTAILRET 4</span>
<a name="l01936"></a>01936 <span class="preprocessor"></span>
<a name="l01937"></a>01937 
<a name="l01938"></a>01938 <span class="comment">/*</span>
<a name="l01939"></a>01939 <span class="comment">** Event masks</span>
<a name="l01940"></a>01940 <span class="comment">*/</span>
<a name="l01941"></a><a class="code" href="lua_8h.html#a3b3ff95f914cf6ff4d46c87e8a648489">01941</a> <span class="preprocessor">#define LUA_MASKCALL    (1 &lt;&lt; LUA_HOOKCALL)</span>
<a name="l01942"></a><a class="code" href="lua_8h.html#af0345e20a0268525a82cd71ab3ecb5da">01942</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_MASKRET     (1 &lt;&lt; LUA_HOOKRET)</span>
<a name="l01943"></a><a class="code" href="lua_8h.html#a671bc8ae0eddd679411c7f2401a594cf">01943</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_MASKLINE    (1 &lt;&lt; LUA_HOOKLINE)</span>
<a name="l01944"></a><a class="code" href="lua_8h.html#a29927bc26e642df4f842e0235d290c56">01944</a> <span class="preprocessor"></span><span class="preprocessor">#define LUA_MASKCOUNT   (1 &lt;&lt; LUA_HOOKCOUNT)</span>
<a name="l01945"></a>01945 <span class="preprocessor"></span>
<a name="l01946"></a><a class="code" href="lua_8h.html#a13a607c625e9cb25bf453b41323857f8">01946</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structlua___debug.html">lua_Debug</a> <a class="code" href="structlua___debug.html">lua_Debug</a>;  <span class="comment">/* activation record */</span>
<a name="l01947"></a>01947 
<a name="l01948"></a>01948 
<a name="l01949"></a>01949 <span class="comment">/* Functions to be called by the debuger in specific events */</span>
<a name="l01967"></a><a class="code" href="lua_8h.html#ae9fa3596803178b98fa911d2ba0af0f4">01967</a> <span class="keyword">typedef</span> void (*<a class="code" href="lua_8h.html#ae9fa3596803178b98fa911d2ba0af0f4">lua_Hook</a>) (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="structlua___debug.html">lua_Debug</a> *ar);
<a name="l01968"></a>01968 
<a name="l01984"></a>01984 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">int</span> <a class="code" href="lua_8h.html#ac1fc03c27ee46caa4037df2d70f22110">lua_getstack</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> level, <a class="code" href="structlua___debug.html">lua_Debug</a> *ar);
<a name="l01985"></a>01985 
<a name="l01986"></a>01986 <span class="comment">/*</span>
<a name="l01987"></a>01987 <span class="comment">lua_getinfo</span>
<a name="l01988"></a>01988 <span class="comment"></span>
<a name="l01989"></a>01989 <span class="comment">[-(0|1), +(0|1|2), m] </span>
<a name="l01990"></a>01990 <span class="comment"></span>
<a name="l01991"></a>01991 <span class="comment">int lua_getinfo (lua_State *L, const char *what, lua_Debug *ar);</span>
<a name="l01992"></a>01992 <span class="comment"></span>
<a name="l01993"></a>01993 <span class="comment">Returns information about a specific function or function invocation. </span>
<a name="l01994"></a>01994 <span class="comment"></span>
<a name="l01995"></a>01995 <span class="comment">To get information about a function invocation, the parameter ar must be a valid activation record that was filled by a previous call to lua_getstack or given as argument to a hook (see lua_Hook). </span>
<a name="l01996"></a>01996 <span class="comment"></span>
<a name="l01997"></a>01997 <span class="comment">To get information about a function you push it onto the stack and start the what string with the character &#39;&gt;&#39;. (In that case, lua_getinfo pops the function in the top of the stack.) For instance, to know in which line a function f was defined, you can write the following code: </span>
<a name="l01998"></a>01998 <span class="comment"></span>
<a name="l01999"></a>01999 <span class="comment">lua_Debug ar;</span>
<a name="l02000"></a>02000 <span class="comment"></span>
<a name="l02001"></a>02001 <span class="comment">lua_getfield(L, LUA_GLOBALSINDEX, &quot;f&quot;);   get global &#39;f&#39; </span>
<a name="l02002"></a>02002 <span class="comment"></span>
<a name="l02003"></a>02003 <span class="comment">lua_getinfo(L, &quot;&gt;S&quot;, &amp;ar);</span>
<a name="l02004"></a>02004 <span class="comment"></span>
<a name="l02005"></a>02005 <span class="comment">printf(&quot;%d\n&quot;, ar.linedefined);</span>
<a name="l02006"></a>02006 <span class="comment"></span>
<a name="l02007"></a>02007 <span class="comment">Each character in the string what selects some fields of the structure ar to be filled or a value to be pushed on the stack: </span>
<a name="l02008"></a>02008 <span class="comment"></span>
<a name="l02009"></a>02009 <span class="comment">&#39;n&#39;: fills in the field name and namewhat; </span>
<a name="l02010"></a>02010 <span class="comment"></span>
<a name="l02011"></a>02011 <span class="comment">&#39;S&#39;: fills in the fields source, short_src, linedefined, lastlinedefined, and what; </span>
<a name="l02012"></a>02012 <span class="comment"></span>
<a name="l02013"></a>02013 <span class="comment">&#39;l&#39;: fills in the field currentline; </span>
<a name="l02014"></a>02014 <span class="comment"></span>
<a name="l02015"></a>02015 <span class="comment">&#39;u&#39;: fills in the field nups; </span>
<a name="l02016"></a>02016 <span class="comment"></span>
<a name="l02017"></a>02017 <span class="comment">&#39;f&#39;: pushes onto the stack the function that is running at the given level; </span>
<a name="l02018"></a>02018 <span class="comment"></span>
<a name="l02019"></a>02019 <span class="comment">&#39;L&#39;: pushes onto the stack a table whose indices are the numbers of the lines that are valid on the function. (A valid line is a line with some associated code, that is, a line where you can put a break point. Non-valid lines include empty lines and comments.) </span>
<a name="l02020"></a>02020 <span class="comment"></span>
<a name="l02021"></a>02021 <span class="comment">This function returns 0 on error (for instance, an invalid option in what). </span>
<a name="l02022"></a>02022 <span class="comment"></span>
<a name="l02023"></a>02023 <span class="comment">返回关于特定函数或函数调用的信息。</span>
<a name="l02024"></a>02024 <span class="comment"></span>
<a name="l02025"></a>02025 <span class="comment">要获得函数调用的信息，参数ar必须是被前一个调用lua_getstack填充的合法的激活记录，或者是作为参数传给hook（参考lua_Hook）。</span>
<a name="l02026"></a>02026 <span class="comment"></span>
<a name="l02027"></a>02027 <span class="comment">为了获得函数信息，你可以把它压入堆栈然后启动带字符&#39;&gt;&#39;开头的字符串what。</span>
<a name="l02028"></a>02028 <span class="comment"></span>
<a name="l02029"></a>02029 <span class="comment">（这种情况下，lua_getinfo会弹出栈顶的函数。）</span>
<a name="l02030"></a>02030 <span class="comment"></span>
<a name="l02031"></a>02031 <span class="comment">例如，为了指导哪一行定义了函数f，你可以写如下代码：</span>
<a name="l02032"></a>02032 <span class="comment"></span>
<a name="l02033"></a>02033 <span class="comment">lua_Debug ar;</span>
<a name="l02034"></a>02034 <span class="comment"></span>
<a name="l02035"></a>02035 <span class="comment">lua_getfield(L, LUA_GLOBALSINDEX, &quot;f&quot;);   获取全局&#39;f&#39; </span>
<a name="l02036"></a>02036 <span class="comment"></span>
<a name="l02037"></a>02037 <span class="comment">lua_getinfo(L, &quot;&gt;S&quot;, &amp;ar);</span>
<a name="l02038"></a>02038 <span class="comment"></span>
<a name="l02039"></a>02039 <span class="comment">printf(&quot;%d\n&quot;, ar.linedefined);</span>
<a name="l02040"></a>02040 <span class="comment"></span>
<a name="l02041"></a>02041 <span class="comment">字符串what的每个字符选择了结构体ar要填充的域或者是压入堆栈的值：</span>
<a name="l02042"></a>02042 <span class="comment"></span>
<a name="l02043"></a>02043 <span class="comment">&#39;n&#39;: 填充域name和namewhat； </span>
<a name="l02044"></a>02044 <span class="comment"></span>
<a name="l02045"></a>02045 <span class="comment">&#39;S&#39;: 填充域source, short_src, linedefined, lastlinedefined, 和what； </span>
<a name="l02046"></a>02046 <span class="comment"></span>
<a name="l02047"></a>02047 <span class="comment">&#39;l&#39;: 填充域currentline； </span>
<a name="l02048"></a>02048 <span class="comment"></span>
<a name="l02049"></a>02049 <span class="comment">&#39;u&#39;: 填充域nups；</span>
<a name="l02050"></a>02050 <span class="comment"></span>
<a name="l02051"></a>02051 <span class="comment">&#39;f&#39;: 把运行于所给层的函数压入栈顶； </span>
<a name="l02052"></a>02052 <span class="comment"></span>
<a name="l02053"></a>02053 <span class="comment">&#39;L&#39;: 把一个索引是函数合法行号的表压入堆栈（一个合法行是带有关联代码的行，所以一行中可以放置一个断点。不合法的行包括空行和注释。）</span>
<a name="l02054"></a>02054 <span class="comment"></span>
<a name="l02055"></a>02055 <span class="comment">这个函数在错误时返回0（例如，what的一个不合法选项）</span>
<a name="l02056"></a>02056 <span class="comment">*/</span>
<a name="l02057"></a>02057 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">int</span> <a class="code" href="lua_8h.html#acaafc35d8e385c4d167229486165df6d">lua_getinfo</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structlua___debug.html#a951a98f1e2d69ca61adcd53c0f8faca3">what</a>, <a class="code" href="structlua___debug.html">lua_Debug</a> *ar);
<a name="l02058"></a>02058 
<a name="l02078"></a>02078 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="lua_8h.html#aaaf420ee0b0e79a45b823d9da4905667">lua_getlocal</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <a class="code" href="structlua___debug.html">lua_Debug</a> *ar, <span class="keywordtype">int</span> n);
<a name="l02079"></a>02079 
<a name="l02095"></a>02095 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="lua_8h.html#a425c37b17caf76545f1541a5bb81dfc6">lua_setlocal</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keyword">const</span> <a class="code" href="structlua___debug.html">lua_Debug</a> *ar, <span class="keywordtype">int</span> n);
<a name="l02096"></a>02096 
<a name="l02112"></a>02112 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="lua_8h.html#afd5e7d6995dc52a5cb9e370ee3a710e6">lua_getupvalue</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> funcindex, <span class="keywordtype">int</span> n);
<a name="l02113"></a>02113 
<a name="l02129"></a>02129 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="lua_8h.html#a6e2e5717e848fca56335a64739a8f2c0">lua_setupvalue</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <span class="keywordtype">int</span> funcindex, <span class="keywordtype">int</span> n);
<a name="l02130"></a>02130 
<a name="l02174"></a>02174 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">int</span> <a class="code" href="lua_8h.html#a664ce25a0c30d2c1b1e89e7ea25be7f0">lua_sethook</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L, <a class="code" href="lua_8h.html#ae9fa3596803178b98fa911d2ba0af0f4">lua_Hook</a> func, <span class="keywordtype">int</span> mask, <span class="keywordtype">int</span> count);
<a name="l02175"></a>02175 
<a name="l02187"></a>02187 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <a class="code" href="lua_8h.html#ae9fa3596803178b98fa911d2ba0af0f4">lua_Hook</a> <a class="code" href="lua_8h.html#a44b9923035977dcfa57279761f7379b4">lua_gethook</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l02188"></a>02188 
<a name="l02200"></a>02200 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">int</span> <a class="code" href="lua_8h.html#a0b41dd9ab46652c8433b861f679fadb8">lua_gethookmask</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l02201"></a>02201 
<a name="l02213"></a>02213 <a class="code" href="luaconf_8h.html#af88575eb79fdd88b1cce4533ab5cbe69">LUA_API</a> <span class="keywordtype">int</span> <a class="code" href="lua_8h.html#a18f065f752cfa08eefd338b4cbd7254b">lua_gethookcount</a> (<a class="code" href="lua_8h.html#a28186297f2e9f2de0652504633de8fb3">lua_State</a> *L);
<a name="l02214"></a>02214 
<a name="l02290"></a><a class="code" href="structlua___debug.html">02290</a> <span class="keyword">struct </span><a class="code" href="structlua___debug.html">lua_Debug</a> {
<a name="l02291"></a><a class="code" href="structlua___debug.html#acafe4c229c051e50e7e55ba9ce3e5893">02291</a>   <span class="keywordtype">int</span> <a class="code" href="structlua___debug.html#acafe4c229c051e50e7e55ba9ce3e5893">event</a>;
<a name="l02292"></a><a class="code" href="structlua___debug.html#a8f8f80d37794cde9472343e4487ba3eb">02292</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structlua___debug.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;     <span class="comment">/* (n) */</span>
<a name="l02293"></a><a class="code" href="structlua___debug.html#a37bd506f9c90a2199c60ed511c2c56dc">02293</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structlua___debug.html#a37bd506f9c90a2199c60ed511c2c56dc">namewhat</a>; <span class="comment">/* (n) `global&#39;, `local&#39;, `field&#39;, `method&#39; */</span>
<a name="l02294"></a><a class="code" href="structlua___debug.html#a951a98f1e2d69ca61adcd53c0f8faca3">02294</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structlua___debug.html#a951a98f1e2d69ca61adcd53c0f8faca3">what</a>;     <span class="comment">/* (S) `Lua&#39;, `C&#39;, `main&#39;, `tail&#39; */</span>
<a name="l02295"></a><a class="code" href="structlua___debug.html#af2ed45b90afa2ef4ec6e09625335a082">02295</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structlua___debug.html#af2ed45b90afa2ef4ec6e09625335a082">source</a>;   <span class="comment">/* (S) */</span>
<a name="l02296"></a><a class="code" href="structlua___debug.html#a1be7dfac6c204d2592700475b5d73fd2">02296</a>   <span class="keywordtype">int</span> <a class="code" href="structlua___debug.html#a1be7dfac6c204d2592700475b5d73fd2">currentline</a>;      <span class="comment">/* (l) */</span>
<a name="l02297"></a><a class="code" href="structlua___debug.html#af62db317c1d6615d5333a4ead840e904">02297</a>   <span class="keywordtype">int</span> <a class="code" href="structlua___debug.html#af62db317c1d6615d5333a4ead840e904">nups</a>;             <span class="comment">/* (u) number of upvalues */</span>
<a name="l02298"></a><a class="code" href="structlua___debug.html#a4dfda1a3839aa77fb8fc7626075151dd">02298</a>   <span class="keywordtype">int</span> <a class="code" href="structlua___debug.html#a4dfda1a3839aa77fb8fc7626075151dd">linedefined</a>;      <span class="comment">/* (S) */</span>
<a name="l02299"></a><a class="code" href="structlua___debug.html#a0129a289db231fbe2c6c3b3d6062979e">02299</a>   <span class="keywordtype">int</span> <a class="code" href="structlua___debug.html#a0129a289db231fbe2c6c3b3d6062979e">lastlinedefined</a>;  <span class="comment">/* (S) */</span>
<a name="l02300"></a><a class="code" href="structlua___debug.html#af9d2e23fe50a49dc12c41f7276c2143d">02300</a>   <span class="keywordtype">char</span> <a class="code" href="structlua___debug.html#af9d2e23fe50a49dc12c41f7276c2143d">short_src</a>[<a class="code" href="luaconf_8h.html#a49c31c00aa2852af25a2c43046a21aeb">LUA_IDSIZE</a>]; <span class="comment">/* (S) */</span>
<a name="l02301"></a>02301   <span class="comment">/* private part */</span>
<a name="l02302"></a><a class="code" href="structlua___debug.html#a7dd66c1899c1d8edf7ae9098b988d83c">02302</a>   <span class="keywordtype">int</span> <a class="code" href="structlua___debug.html#a7dd66c1899c1d8edf7ae9098b988d83c">i_ci</a>;  <span class="comment">/* active function */</span>
<a name="l02303"></a>02303 };
<a name="l02304"></a>02304 
<a name="l02305"></a>02305 <span class="comment">/* }====================================================================== */</span>
<a name="l02306"></a>02306 
<a name="l02307"></a>02307 
<a name="l02308"></a>02308 <span class="comment">/******************************************************************************</span>
<a name="l02309"></a>02309 <span class="comment">* Copyright (C) 1994-2008 Lua.org, PUC-Rio.  All rights reserved.</span>
<a name="l02310"></a>02310 <span class="comment">*</span>
<a name="l02311"></a>02311 <span class="comment">* Permission is hereby granted, free of charge, to any person obtaining</span>
<a name="l02312"></a>02312 <span class="comment">* a copy of this software and associated documentation files (the</span>
<a name="l02313"></a>02313 <span class="comment">* &quot;Software&quot;), to deal in the Software without restriction, including</span>
<a name="l02314"></a>02314 <span class="comment">* without limitation the rights to use, copy, modify, merge, publish,</span>
<a name="l02315"></a>02315 <span class="comment">* distribute, sublicense, and/or sell copies of the Software, and to</span>
<a name="l02316"></a>02316 <span class="comment">* permit persons to whom the Software is furnished to do so, subject to</span>
<a name="l02317"></a>02317 <span class="comment">* the following conditions:</span>
<a name="l02318"></a>02318 <span class="comment">*</span>
<a name="l02319"></a>02319 <span class="comment">* The above copyright notice and this permission notice shall be</span>
<a name="l02320"></a>02320 <span class="comment">* included in all copies or substantial portions of the Software.</span>
<a name="l02321"></a>02321 <span class="comment">*</span>
<a name="l02322"></a>02322 <span class="comment">* THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span>
<a name="l02323"></a>02323 <span class="comment">* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<a name="l02324"></a>02324 <span class="comment">* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</span>
<a name="l02325"></a>02325 <span class="comment">* IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY</span>
<a name="l02326"></a>02326 <span class="comment">* CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,</span>
<a name="l02327"></a>02327 <span class="comment">* TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE</span>
<a name="l02328"></a>02328 <span class="comment">* SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span>
<a name="l02329"></a>02329 <span class="comment">******************************************************************************/</span>
<a name="l02330"></a>02330 
<a name="l02331"></a>02331 
<a name="l02332"></a>02332 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Jun 6 2011 16:02:28 for lua by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
